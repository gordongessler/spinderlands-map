<!DOCTYPE html>
<html style="height: 100%;">

<head>
    <title>Spinderlands Interactive Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="scripts/leaflet.css">
    <script src="scripts/leaflet.js"></script>
</head>

<body style="height: 100%;margin: 0;">
    <div id="map" style="width: 100%; height: 100%; background: #888888;"></div>

    <script type="text/javascript">

        //Create layers
        var geograpihcal = L.tileLayer('maps/geographical/{z}/{x}/{y}.png', {
            noWrap: true
        });
        var political = L.tileLayer('maps/political/{z}/{x}/{y}.png', {
            noWrap: true
        });

        //Create Map
        var map = L.map('map', {
            minZoom: 0,
            maxZoom: 5,
            attributionControl: false,
            layers: [geograpihcal, political],
            crs: L.CRS.Simple
        }).setView([0, 0], 2);

        //Set bounds for the map
        var mapSW = [0, 8192],
            mapNE = [8192, 0];
            
        map.setMaxBounds(new L.LatLngBounds(
            map.unproject(mapSW, map.getMaxZoom()),
            map.unproject(mapNE, map.getMaxZoom())
        ));

        //Add coordinate finding marker 
        var locationFinder = L.marker([0, 0], {
            draggable: true
        }).addTo(map);
        locationFinder.bindPopup("Use me to find coordinates").openPopup();
        locationFinder.on('dragend', function (e) {
            locationFinder.getPopup().setContent(locationFinder.getLatLng().toString()).openOn(map);
        });

        //Add Layers Control
        var baseMaps = {
            "Geograpihcal": geograpihcal,
            "Political": political
        };
        L.control.layers(baseMaps, null).addTo(map);

    </script>
</body>

</html>